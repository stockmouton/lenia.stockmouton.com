(self.webpackChunklenia_stockmouton_com=self.webpackChunklenia_stockmouton_com||[]).push([[17],{72644:function(a,t){!function(){var a,n,e,r,f=Z("Z")-Z("A")+(Z("z")-Z("a"))+(Z("þ")-Z("À")),o=1e6,i=Math.PI,c=13,l=10,s=0,u=.14,h=.015,d=!1,v=0,p=0,m=null,b=null,g=null,M=null,w=null,y=1,F=1,x=1,A=1,_={alizarin:B("d6c3c9",["f9c784","e7e7e7","485696","19180a","3f220f","772014","af4319","e71d36"]),"black-white":B("000000",["1f2123","393b41","555860","737780","9497a1","b6b9c1","d9dbe1","ffffff"]),"carmine-blue":B("#006eb8",["#006eb8","#fff200","#cc1236"]),cinnamon:B("#a7d4e4",["#a7d4e4","#71502f","#fdc57e"]),city:B("F93943",["23005c","3a0099","66daff","e6f9ff","004b63","ffca66","fff6e6","ffa600"]),golden:B("#b6bfc1",["#b6bfc1","#253122","#f3a257"]),laurel:B("381d2a",["60b9bf","bffbff","96ff80","eaffe6","71bf60","ff80b0","ffe6ef","ffbfd7"]),msdos:B("#0c0786",["#0c0786","#7500a8","#c03b80","#f79241","#fcfea4"]),"pink-beach":B("f4777f",["93003a","cf3759","ffbcaf","ffffe0","a5d5d8","73a2c6","4771b2","00429d"]),rainbow:B("#000000",["#FF0000","#FF7F00","#FFFF00","#00FF00","#0000FF","#2E2B5F","#8B00FF"]),"river-leaf":B("80ab82",["7dcd85","c5d6d8","99f7ab","2f52e0","bced09","f9cb40","ff715b","4c5b5c"]),salvia:B("#b6bfc1",["#b6bfc1","#051230","#97acc8"]),summer:B("ffe000",["ffbf66","fff4e6","995900","ff9400","6695ff","e6edff","002577","003dc7"]),"white-black":B("#ffffff",["#ffffff","#000000"])},I="msdos";function E(a){for(var t={x:y,y:y,xm:0,ym:0},n=0;n<y;n++)for(var e=0;e<y;e++){a[8*F+n*y+e]>0&&(t.x=Math.min(e,t.x),t.y=Math.min(n,t.y),t.xm=Math.max(e,t.xm),t.ym=Math.max(n,t.ym))}for(var r={arr:[[]],shape:[1,t.ym-t.y,t.xm-t.x]},f=t.y;f<t.ym;f++){for(var o=new Float32Array(r.shape[2]),i=t.x,c=0;i<t.xm;i++,c++)o[c]=a[8*F+f*y+i];r.arr[0].push(o)}return r}function k(a){console.assert(2==a.length);var t,n,e=a[0],r=a[1];return t=Z(e)>=Z("À")?Z(e)-Z("À")+(Z("Z")-Z("A"))+(Z("z")-Z("a")):Z(e)>=Z("a")?Z(e)-Z("a")+(Z("Z")-Z("A")):Z(e)-Z("A"),n=Z(r)>=Z("À")?Z(r)-Z("À")+(Z("Z")-Z("A"))+(Z("z")-Z("a")):Z(r)>=Z("a")?Z(r)-Z("a")+(Z("Z")-Z("A")):Z(r)-Z("A"),t*f+n}function C(a){for(var t=Array(a),n=0;n<a;n++)t[n]=new Float32Array(a).fill(0);return t}function R(a,t){var n;(n=null==a?document.createElement("canvas"):document.getElementById(a)).width=n.height=t;var e=n.getContext("2d"),r=e.createImageData(n.width,n.height),f=n.getBoundingClientRect();return{can:n,ctx:e,img:r,left:f.left,top:f.top}}function z(a,t,n,e,r,f){for(var o=t.arr[0],c=t.shape[1],l=t.shape[2],s=Math.sin(f/180*i),u=Math.cos(f/180*i),h=(Math.abs(c*u)+Math.abs(l*s)+1)*r-1,d=(Math.abs(l*u)+Math.abs(c*s)+1)*r-1,v=0;v<h;v++)for(var p=0;p<d;p++){var m=Math.round((-(p-d/2)*s+(v-h/2)*u)/r+c/2),b=Math.round((+(p-d/2)*u+(v-h/2)*s)/r+l/2),g=W(p+n,y),M=W(v+e,y),w=m>=0&&b>=0&&m<c&&b<o[m].length?o[m][b]:0;w>0&&(a[8*F+M*y+g]=w)}}function N(a,t,n){var e,r=n[0].k_id,f=n[0].q,o=n[0].r,i=n[0].b;if("string"==typeof i){e=[];for(var l=i.split(","),s=0;s<l.length;s++){var u=l[s].split("/");2==u.length?e.push(parseInt(u[0],10)/parseInt(u[1],10)):e.push(parseFloat(u[0]))}}else e=n[0].b;for(var h=0,d=y/2,v=0;v<y;v++)for(var p=0;p<y;p++){var m=(v+d)%y-d,b=(p+d)%y-d,M=D(r,f,e,o,Math.sqrt(m*m+b*b)/c);h+=M,g[v][p]=M,m=y-(v+y/2)%y-1,b=(p+y/2)%y}for(var w=0;w<y;w++)for(var x=0;x<y;x++)g[w][x]/=h;for(var A=0;A<y;A++)a.set(g[A],6*F+A*y);t(1,6,5)}function D(a,t,n,e,r){var f=n.length,o=f*r,i=n[Math.min(parseInt(Math.floor(o),10),f-1)];return(r<1)*function(a,t,n){var e;switch(a){case 0:return Math.pow(4*n*(1-n),t);case 1:return e=t-1/(n*(1-n)),Math.exp(t*e);case 2:return n>=t&&n<=1-t?1:0;case 3:return(n>=t&&n<=1-t?1:0)+.5*(n<t);case 4:return e=Math.pow((n-t)/(.3*t),2),Math.exp(-e/2)}}(a,t,o%1)*i}function L(a,t,n){var e=Math.round(a*o)/o;return e<t?t:e>n?n:e}function W(a,t){return(a%t+t)%t}function Z(a){return a.charCodeAt(0)}function S(a){var t=a.target.getBoundingClientRect();v=(a.clientX-t.left)/2,p=(a.clientY-t.top)/2,d=!0}function B(a,t){for(var n=Math.floor(254/(t.length-1)),e=[],r=0;r<t.length-1;r++){var f=T(G(t[r]).slice(0,3),G(t[r+1]).slice(0,3),n);e=e.concat(f)}var o=(""===a?[0,0,0,0]:G(a)).splice(0,3);return e.unshift(o),e}function G(a){return a=a.replace("#",""),rgbaList=[],[0,2,4].forEach((function(t){var n=a.substring(t,t+2);rgbaList.push(parseInt(n,16))})),rgbaList.push(255),rgbaList}function T(a,t,n){for(var e=.43,r=O(a),f=P(r,e),o=O(t),i=P(o,e),c=[],l=0;l<n;l++){for(var s=Math.pow(q(f,i,l/n),1/e),u=q(r,o,l/n),h=0,d=0;d<u.length;d++)h+=u[d];if(0!==h){for(var v=[],p=0;p<u.length;p++){var m=u[p];v.push(m*s/h)}u=v}u=V(u),c.push(u)}return c}function q(a,t,n){if(a instanceof Array){for(var e=[],r=0;r<a.length;r++){var f=a[r],o=t[r];e.push(f*(1-n)+o*n)}return e}return a*(1-n)+t*n}function O(a){for(var t=[],n=0;n<a.length;n++){var e=a[n]/255,r=void 0;r=e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4),t.push(r)}return t}function V(a){for(var t,n=[],e=0;e<a.length;e++){var r=a[e];n.push(parseInt(255.9999*((t=r)<=.0031308?t*=12.92:t=1.055*Math.pow(t,1/2.4)-.055,t),10))}return n}function P(a,t){for(var n=0,e=0;e<a.length;e++)n+=a[e];return Math.pow(n,t)}window.leniaEngine={init:function(o,i,D){void 0===i&&(i=1),void 0===D&&(D=30),e=parseInt(Math.min(Math.max(i,1),5),10);var W=o.config.world_params.scale;(function(a,t){void 0===t&&(t=0);y=1<<a,x=1<<t,A=Math.round(y*x),n=y,m=null,m=C(n),cellsOld=null,cellsOld=C(n),b=null,b=C(n),g=null,g=C(n),null,C(n),potentialRe=null,potentialRe=C(n),potentialIm=null,potentialIm=C(n),M=R(null,A),(w=R("RENDERING_CANVAS",2*A)).ctx.scale(2,2);var n})((n=parseInt(Math.min(Math.max(W,1),4),10))<=1?7:n<=2?8:9,e-1),function(a,t,n){for(var e=0;e<n.length;e++){var r=n[e];"Colormap"===r.trait_type&&(I=r.value.trim().toLocaleLowerCase().replace(" ","-"))}c=a.R,l=a.T,s=t[0].gf_id,u=t[0].m,h=t[0].s}(o.config.world_params,o.config.kernels_params,o.attributes),F=Math.pow(y,2),nb_buffers=10;var Z=((F*nb_buffers<<2)+65535&-65536)>>>16,B=new WebAssembly.Memory({initial:Z}),G={env:{memory:B},engine:{WORLD_SIZE:y,GF_ID:s,GF_M:u,GF_S:h,T:l},Math:Math};WebAssembly.instantiateStreaming(fetch("/optimized.wasm"),G).then((function(e){var i=e.instance;t=i.exports,t.round,r=t.updateFn;var l=new Float32Array(B.buffer);!function(t,e,r){var o=t.config,i=(t.attributes,function(a){var t=a.split("::");console.assert(2==t.length&&t[0].length%2==0);for(var n=Math.pow(f,2)-1,e=t[1].split(";"),r=[],o=0;o<e.length;o++)r.push(parseInt(e[o],10));for(var i=[],c=0;c<t[0].length;c+=2){var l=k(t[0][c]+t[0][c+1])/n;i.push(l)}return function(a,t){console.assert(3==t.length);for(var n=t[0],e=t[1],r=t[2],f=new Array(n),o=0;o<n;o++){for(var i=new Array(e),c=0;c<e;c++){for(var l=new Float32Array(r),s=0;s<r;s++)l[s]=a[o*(e+r)+c*r+s];i[c]=l}f[o]=i}return{arr:f,shape:t}}(i,r)}(o.cells)),l=!1;for(;n>1||!l;){l=!0;var s=Math.min(n,2);1!=n&&(c=Math.round(L(c*s,2,y))),N(e,r.FFT2D,o.kernels_params),z(e,i,Math.floor(y/2-i.shape[2]/2*n),Math.floor(y/2-i.shape[1]/2*n),s,0),i=E(e),n/=s}a=i}(o,l,t),function(t,e){!function f(){if(setTimeout(f,1e3/e),t.copyWithin(0*F,8*F,9*F),r(),d){var o=Math.floor(v/x-a.shape[2]/2/n),i=Math.floor(p/x-a.shape[1]/2/n);z(t,a,o,i,n,0),d=!1}}()}(l,D),function(a){!function t(){window.requestAnimationFrame(t),function(a,t,n){for(var e,r=_[I].length,f=a.img.data,o=0,i=0;i<A;i++)for(var c=Math.floor(i/x),l=0;l<A;l++){var s=Math.floor(l/x),u=t[8*F+c*y+s]*n,h=Math.floor(u*r);h=Math.max(h,0),h=Math.min(h,r-1),e=_[I][h];for(var d=0;d<3;d++)f[o++]=e[d];f[o++]=255}a.ctx.putImageData(a.img,0,0),w.ctx.drawImage(a.can,0,0)}(M,a,1)}()}(l),function(a){document.body.addEventListener("keydown",(function(t){32==t.keyCode&&function(a,t){for(var n=0;n<y;n++)for(var e=0;e<y;e++)a[8*F+n*y+e]=t}(a,0)})),document.getElementById("RENDERING_CANVAS").addEventListener("click",S)}(l)})).catch((function(a){console.log(a)}))},getCells:function(){return{real:m,imag:b}}}}()},40892:function(a,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var e=n(67294),r=n(6128),f=n(15861),o=n(87757),i=n.n(o),c=n(83044),l=n(86686);"undefined"!=typeof window&&n(72644);var s=c.ZP.div.withConfig({displayName:"generator__StyledDiv",componentId:"sc-f8scat-0"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"]),u=function(a){var t=a.zoom,n=a.fps,r=a.scale,o=a.lenia_id,c=(0,e.useRef)(null);return(0,e.useEffect)((0,f.Z)(i().mark((function a(){var e,f;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.get("/metadata/"+o+".json");case 2:e=a.sent,(f=e.data).config.world_params.scale=r,window.leniaEngine.init(f,t,n);case 6:case"end":return a.stop()}}),a)})))),e.createElement(s,{ref:c},e.createElement("canvas",{id:"RENDERING_CANVAS"}))},h=function(){var a=(0,r.Wd)("id",r.yz)[0],t=(0,r.Wd)("scale",r.yz)[0],n=(0,r.Wd)("fps",r.yz)[0],f=(0,r.Wd)("zoom",r.yz)[0];return e.createElement(u,{zoom:f||1,fps:n||26,scale:t||2,lenia_id:a||0})}}}]);
//# sourceMappingURL=component---src-pages-generator-js-02a6bdc508ac0770358e.js.map