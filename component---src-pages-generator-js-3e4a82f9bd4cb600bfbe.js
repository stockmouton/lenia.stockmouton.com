(self.webpackChunklenia_stockmouton_com=self.webpackChunklenia_stockmouton_com||[]).push([[17],{72644:function(a,t){!function(){var a,e,r,n=!1,f=0,o=0,i=null,c=null,s=1,l=1,u=1,h=1;function v(a,t){console.assert(2==a.length);var e=a[0],r=a[1];return(M(e)>=M("À")?M(e)-M("À")+(M("Z")-M("A"))+(M("z")-M("a")):M(e)>=M("a")?M(e)-M("a")+(M("Z")-M("A")):M(e)-M("A"))*t+(M(r)>=M("À")?M(r)-M("À")+(M("Z")-M("A"))+(M("z")-M("a")):M(r)>=M("a")?M(r)-M("a")+(M("Z")-M("A")):M(r)-M("A"))}function p(a,t){var e;(e=null==a?document.createElement("canvas"):document.getElementById(a)).width=e.height=t;var r=e.getContext("2d"),n=r.createImageData(e.width,e.height),f=e.getBoundingClientRect();return{can:e,ctx:r,img:n,left:f.left,top:f.top}}function d(a,t,e,r,n,f){for(var o=t.arr[0],i=t.shape[1],c=t.shape[2],u=Math.sin(f/180*Math.PI),h=Math.cos(f/180*Math.PI),v=(Math.abs(i*h)+Math.abs(c*u)+1)*n-1,p=(Math.abs(c*h)+Math.abs(i*u)+1)*n-1,d=0;d<v;d++)for(var m=0;m<p;m++){var b=Math.round((-(m-p/2)*u+(d-v/2)*h)/n+i/2),M=Math.round((+(m-p/2)*h+(d-v/2)*u)/n+c/2),w=g(m+e,s),y=g(d+r,s),F=b>=0&&M>=0&&b<i&&M<o[b].length?o[b][M]:0;F>0&&(a[8*l+y*s+w]=F)}}function m(a,t,e,r){var n,f=r[0].k_id,o=r[0].q,i=r[0].r,c=r[0].b,u=function(a){for(var t=Array(a),e=0;e<a;e++)t[e]=new Float32Array(a).fill(0);return t}(s);if("string"==typeof c){n=[];for(var h=c.split(","),v=0;v<h.length;v++){var p=h[v].split("/");2==p.length?n.push(parseInt(p[0],10)/parseInt(p[1],10)):n.push(parseFloat(p[0]))}}else n=r[0].b;for(var d=0,m=s/2,g=0;g<s;g++)for(var M=0;M<s;M++){var w=(g+m)%s-m,y=(M+m)%s-m,F=b(f,o,n,i,Math.sqrt(w*w+y*y)/e);d+=F,u[g][M]=F,w=s-(g+s/2)%s-1,y=(M+s/2)%s}for(var _=0;_<s;_++)for(var A=0;A<s;A++)u[_][A]/=d;for(var x=0;x<s;x++){a.set(u[x],6*l+x*s);var I=new Float32Array(s).fill(0);a.set(I,7*l+x*s)}t(1,6,7)}function b(a,t,e,r,n){var f=e.length,o=f*n,i=e[Math.min(parseInt(Math.floor(o),10),f-1)],c=(n<1)*function(a,t,e){var r;switch(a){case 0:return Math.pow(4*e*(1-e),t);case 1:return r=t-1/(e*(1-e)),Math.exp(t*r);case 2:return e>=t&&e<=1-t?1:0;case 3:return(e>=t&&e<=1-t?1:0)+.5*(e<t);case 4:return r=Math.pow((e-t)/(.3*t),2),Math.exp(-r/2)}}(a,t,o%1)*i;return c}function g(a,t){return(a%t+t)%t}function M(a){return a.charCodeAt(0)}function w(a,t){for(var e=0;e<s;e++)for(var r=0;r<s;r++)a[8*l+e*s+r]=t}function y(a){for(var t={x:s,y:s,xm:0,ym:0},e=0;e<s;e++)for(var r=0;r<s;r++){a[8*l+e*s+r]>0&&(t.x=Math.min(r,t.x),t.y=Math.min(e,t.y),t.xm=Math.max(r,t.xm),t.ym=Math.max(e,t.ym))}for(var n={arr:[[]],shape:[1,t.ym-t.y,t.xm-t.x]},f=t.y;f<t.ym;f++){for(var o=new Float32Array(n.shape[2]),i=t.x,c=0;i<t.xm;i++,c++)o[c]=a[8*l+f*s+i];n.arr[0].push(o)}return n}function F(a){var t=a.target.getBoundingClientRect();f=(a.clientX-t.left)/2,o=(a.clientY-t.top)/2,n=!0}var _={alizarin:A("d6c3c9",["f9c784","e7e7e7","485696","19180a","3f220f","772014","af4319","e71d36"]),"black-white":A("000000",["1f2123","393b41","555860","737780","9497a1","b6b9c1","d9dbe1","ffffff"]),"carmine-blue":A("#006eb8",["#006eb8","#fff200","#cc1236"]),cinnamon:A("#a7d4e4",["#a7d4e4","#71502f","#fdc57e"]),city:A("F93943",["23005c","3a0099","66daff","e6f9ff","004b63","ffca66","fff6e6","ffa600"]),golden:A("#b6bfc1",["#b6bfc1","#253122","#f3a257"]),laurel:A("381d2a",["60b9bf","bffbff","96ff80","eaffe6","71bf60","ff80b0","ffe6ef","ffbfd7"]),msdos:A("#0c0786",["#0c0786","#7500a8","#c03b80","#f79241","#fcfea4"]),"pink-beach":A("f4777f",["93003a","cf3759","ffbcaf","ffffe0","a5d5d8","73a2c6","4771b2","00429d"]),rainbow:A("#000000",["#FF0000","#FF7F00","#FFFF00","#00FF00","#0000FF","#2E2B5F","#8B00FF"]),"river-leaf":A("80ab82",["7dcd85","c5d6d8","99f7ab","2f52e0","bced09","f9cb40","ff715b","4c5b5c"]),salvia:A("#b6bfc1",["#b6bfc1","#051230","#97acc8"]),summer:A("ffe000",["ffbf66","fff4e6","995900","ff9400","6695ff","e6edff","002577","003dc7"]),"white-black":A("#ffffff",["#ffffff","#000000"])};function A(a,t){for(var e=Math.floor(254/(t.length-1)),r=[],n=0;n<t.length-1;n++){var f=I(x(t[n]).slice(0,3),x(t[n+1]).slice(0,3),e);r=r.concat(f)}var o=(""===a?[0,0,0,0]:x(a)).splice(0,3);return r.unshift(o),r}function x(a){return a=a.replace("#",""),rgbaList=[],[0,2,4].forEach((function(t){var e=a.substring(t,t+2);rgbaList.push(parseInt(e,16))})),rgbaList.push(255),rgbaList}function I(a,t,e){for(var r=.43,n=k(a),f=z(n,r),o=k(t),i=z(o,r),c=[],s=0;s<e;s++){for(var l=Math.pow(E(f,i,s/e),1/r),u=E(n,o,s/e),h=0,v=0;v<u.length;v++)h+=u[v];if(0!==h){for(var p=[],d=0;d<u.length;d++){var m=u[d];p.push(m*l/h)}u=p}u=C(u),c.push(u)}return c}function E(a,t,e){if(a instanceof Array){for(var r=[],n=0;n<a.length;n++){var f=a[n],o=t[n];r.push(f*(1-e)+o*e)}return r}return a*(1-e)+t*e}function k(a){for(var t=[],e=0;e<a.length;e++){var r=a[e]/255,n=void 0;n=r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4),t.push(n)}return t}function C(a){for(var t,e=[],r=0;r<a.length;r++){var n=a[r];e.push(parseInt(255.9999*((t=n)<=.0031308?t*=12.92:t=1.055*Math.pow(t,1/2.4)-.055,t),10))}return e}function z(a,t){for(var e=0,r=0;r<a.length;r++)e+=a[r];return Math.pow(e,t)}window.leniaEngine={init:function(b,g,A){void 0===g&&(g=1),void 0===A&&(A=30),function(a,t){var r;t=parseInt(Math.min(Math.max(t,0),5),10),r=(e=parseInt(Math.min(Math.max(a,1),4),10))<=1?7:e<=2?8:9;s=1<<r,u=1<<t,h=Math.round(s*u),i=p(null,h),(c=p("RENDERING_CANVAS",2*h)).ctx.scale(2,2)}(b.config.world_params.scale,g-1);var x=function(){l=Math.pow(s,2),nb_buffers=10;var a=(65535+(l*nb_buffers<<2)&-65536)>>>16;return new WebAssembly.Memory({initial:a})}(),I={env:{memory:x},engine:{WORLD_SIZE:s,GF_ID:b.config.kernels_params[0].gf_id,GF_M:b.config.kernels_params[0].m,GF_S:b.config.kernels_params[0].s,T:b.config.world_params.T},Math:Math};WebAssembly.instantiateStreaming(fetch("/optimized.wasm"),I).then((function(p){var g=p.instance;t=g.exports,r=t.updateFn;var I=new Float32Array(x.buffer);!function(t,n,f){var o=t.config,i=o.world_params.R,c=function(a){var t=M("Z")-M("A")+(M("z")-M("a"))+(M("þ")-M("À")),e=a.split("::");console.assert(2==e.length&&e[0].length%2==0);for(var r=Math.pow(t,2)-1,n=e[1].split(";"),f=[],o=0;o<n.length;o++)f.push(parseInt(n[o],10));for(var i=[],c=0;c<e[0].length;c+=2){var s=v(e[0][c]+e[0][c+1],t)/r;i.push(s)}return function(a,t){console.assert(3==t.length);for(var e=t[0],r=t[1],n=t[2],f=new Array(e),o=0;o<e;o++){for(var i=new Array(r),c=0;c<r;c++){for(var s=new Float32Array(n),l=0;l<n;l++)s[l]=a[o*(r+n)+c*n+l];i[c]=s}f[o]=i}return{arr:f,shape:t}}(i,f)}(o.cells),u=!1;for(;e>1||!u;){u=!0;var h=Math.min(e,2);1!=e&&(i=Math.round(i*h)),m(n,f.FFT2D,i,o.kernels_params),console.log(i,c.shape);var p=Math.floor(s/2-c.shape[2]/2*h),b=Math.floor(s/2-c.shape[1]/2*h),g=0;w(n,0),d(n,c,p,b,h,g);for(var F=20,_=0;_<F;_++)n.copyWithin(0*l,8*l,9*l),r();c=y(n),e/=h}a=c}(b,I,t),function(t,i){!function c(){if(setTimeout(c,1e3/i),t.copyWithin(0*l,8*l,9*l),r(),n){var s=Math.floor(f/u-a.shape[2]/2/e),h=Math.floor(o/u-a.shape[1]/2/e);d(t,a,s,h,e,0),n=!1}}()}(I,A),function(a,t){for(var e,r=0;r<t.length;r++){var n=t[r];"Colormap"===n.trait_type&&(e=n.value.trim().toLocaleLowerCase().replace(" ","-"))}!function t(){window.requestAnimationFrame(t),function(a,t,e,r){for(var n,f=_[r].length,o=a.img.data,i=0,v=0;v<h;v++)for(var p=Math.floor(v/u),d=0;d<h;d++){var m=Math.floor(d/u),b=t[8*l+p*s+m]*e,g=Math.floor(b*f);g=Math.max(g,0),g=Math.min(g,f-1),n=_[r][g];for(var M=0;M<3;M++)o[i++]=n[M];o[i++]=255}a.ctx.putImageData(a.img,0,0),c.ctx.drawImage(a.can,0,0)}(i,a,1,e)}()}(I,b.attributes),function(a){document.body.addEventListener("keydown",(function(t){32==t.keyCode&&w(a,0)})),document.getElementById("RENDERING_CANVAS").addEventListener("click",F)}(I)})).catch((function(a){console.log(a)}))}}}()},40892:function(a,t,e){"use strict";e.r(t),e.d(t,{default:function(){return h}});var r=e(67294),n=e(19339),f=e(15861),o=e(87757),i=e.n(o),c=e(50009),s=e(96633);"undefined"!=typeof window&&e(72644);var l=c.default.div.withConfig({displayName:"generator__StyledDiv",componentId:"sc-f8scat-0"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"]),u=function(a){var t=a.zoom,e=a.fps,n=a.scale,o=a.lenia_id,c=(0,r.useRef)(null);return(0,r.useEffect)((0,f.Z)(i().mark((function a(){var r,f;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.get("/metadata/"+o+".json");case 2:r=a.sent,(f=r.data).config.world_params.scale=n,window.leniaEngine.init(f,t,e);case 6:case"end":return a.stop()}}),a)})))),r.createElement(l,{ref:c},r.createElement("canvas",{id:"RENDERING_CANVAS"}))},h=function(){var a=(0,n.Wd)("id",n.yz)[0],t=(0,n.Wd)("scale",n.yz)[0],e=(0,n.Wd)("fps",n.yz)[0],f=(0,n.Wd)("zoom",n.yz)[0];return r.createElement(u,{zoom:f||1,fps:e||26,scale:t||2,lenia_id:a||0})}}}]);
//# sourceMappingURL=component---src-pages-generator-js-3e4a82f9bd4cb600bfbe.js.map