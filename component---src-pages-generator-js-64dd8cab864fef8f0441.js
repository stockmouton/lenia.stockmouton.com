(self.webpackChunklenia_stockmouton_com=self.webpackChunklenia_stockmouton_com||[]).push([[17],{20327:function(a,e,t){"use strict";t.d(e,{h4:function(){return o}});var r=t(15861),n=t(87757),f=t.n(n),o=function(){var a=(0,r.Z)(f().mark((function a(){return f().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])));case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()},72644:function(a,e){window.leniaEngine={},window.leniaEngine.init=function(a,t,r,n,f){void 0===n&&(n=1),void 0===f&&(f=30);var o,i,c,s=!1,u=0,l=0,h=null,p=null,d=1,v=1,m=1,b=1;function g(a,e){console.assert(2==a.length);var t=a[0],r=a[1];return(k(t)>=k("À")?k(t)-k("À")+(k("Z")-k("A"))+(k("z")-k("a")):k(t)>=k("a")?k(t)-k("a")+(k("Z")-k("A")):k(t)-k("A"))*e+(k(r)>=k("À")?k(r)-k("À")+(k("Z")-k("A"))+(k("z")-k("a")):k(r)>=k("a")?k(r)-k("a")+(k("Z")-k("A")):k(r)-k("A"))}function w(a,e){var t;(t=null==a?document.createElement("canvas"):document.getElementById(a)).width=t.height=e;var r=t.getContext("2d"),n=r.createImageData(t.width,t.height),f=t.getBoundingClientRect();return{can:t,ctx:r,img:n,left:f.left,top:f.top}}function M(a,e,t,r,n,f){for(var o=e.arr[0],i=e.shape[1],c=e.shape[2],s=Math.sin(f/180*Math.PI),u=Math.cos(f/180*Math.PI),l=(Math.abs(i*u)+Math.abs(c*s)+1)*n-1,h=(Math.abs(c*u)+Math.abs(i*s)+1)*n-1,p=0;p<l;p++)for(var m=0;m<h;m++){var b=Math.round((-(m-h/2)*s+(p-l/2)*u)/n+i/2),g=Math.round((+(m-h/2)*u+(p-l/2)*s)/n+c/2),w=F(m+t,d),M=F(p+r,d),y=b>=0&&g>=0&&b<i&&g<o[b].length?o[b][g]:0;y>0&&(a[8*v+M*d+w]=y)}}function y(a,e,t,r){var n,f=r[0].k_id,o=r[0].q,i=r[0].r,c=r[0].b,s=function(a){for(var e=Array(a),t=0;t<a;t++)e[t]=new Float32Array(a).fill(0);return e}(d);if("string"==typeof c){n=[];for(var u=c.split(","),l=0;l<u.length;l++){var h=u[l].split("/");2==h.length?n.push(parseInt(h[0],10)/parseInt(h[1],10)):n.push(parseFloat(h[0]))}}else n=r[0].b;for(var p=0,m=d/2,b=0;b<d;b++)for(var g=0;g<d;g++){var w=(b+m)%d-m,M=(g+m)%d-m,y=x(f,o,n,i,Math.sqrt(w*w+M*M)/t);p+=y,s[b][g]=y,w=d-(b+d/2)%d-1,M=(g+d/2)%d}for(var F=0;F<d;F++)for(var A=0;A<d;A++)s[F][A]/=p;for(var _=0;_<d;_++){a.set(s[_],6*v+_*d);var k=new Float32Array(d).fill(0);a.set(k,7*v+_*d)}e(1,6,7)}function x(a,e,t,r,n){var f=t.length,o=f*n,i=t[Math.min(parseInt(Math.floor(o),10),f-1)],c=(n<1)*function(a,e,t){var r;switch(a){case 0:return Math.pow(4*t*(1-t),e);case 1:return r=e-1/(t*(1-t)),Math.exp(e*r);case 2:return t>=e&&t<=1-e?1:0;case 3:return(t>=e&&t<=1-e?1:0)+.5*(t<e);case 4:return r=Math.pow((t-e)/(.3*e),2),Math.exp(-r/2)}}(a,e,o%1)*i;return c}function F(a,e){return(a%e+e)%e}function A(a){i=parseInt(Math.min(Math.max(a,1),4),10),d=_(i),v=Math.pow(d,2),b=Math.round(d*m),h=w(null,b),(p=w("RENDERING_CANVAS",2*b)).ctx.scale(2,2)}function _(a){return 1<<(a<=1?7:a<=2?8:9)}function k(a){return a.charCodeAt(0)}function I(a,e){for(var t=0;t<d;t++)for(var r=0;r<d;r++)a[8*v+t*d+r]=e}function E(a){for(var e={x:d,y:d,xm:0,ym:0},t=0;t<d;t++)for(var r=0;r<d;r++){a[8*v+t*d+r]>0&&(e.x=Math.min(r,e.x),e.y=Math.min(t,e.y),e.xm=Math.max(r,e.xm),e.ym=Math.max(t,e.ym))}for(var n={arr:[[]],shape:[1,e.ym-e.y,e.xm-e.x]},f=e.y;f<e.ym;f++){for(var o=new Float32Array(n.shape[2]),i=e.x,c=0;i<e.xm;i++,c++)o[c]=a[8*v+f*d+i];n.arr[0].push(o)}return n}function z(a){var e=a.target.getBoundingClientRect();u=(a.clientX-e.left)/2,l=(a.clientY-e.top)/2,s=!0}!function(r,n,f){n=parseInt(Math.min(Math.max(n-1,0),5),10),m=1<<n,r.config.world_params.scale=parseInt(Math.min(Math.max(r.config.world_params.scale,1),4),10);var w,x,F,N=(w=r.config.world_params.scale,x=_(w),F=(65535+(10*Math.pow(x,2)<<2)&-65536)>>>16,new WebAssembly.Memory({initial:F})),R={env:{memory:N},Math:Math};R[t]={GF_ID:r.config.kernels_params[0].gf_id,GF_M:r.config.kernels_params[0].m,GF_S:r.config.kernels_params[0].s,T:r.config.world_params.T},WebAssembly.instantiate(a,R).then((function(a){var t=a.instance;e=t.exports,c=e.updateFn;var n=new Float32Array(N.buffer);!function(a,e,t){var r=e.config,n=r.world_params.R;i=1;var f=function(a){var e=k("Z")-k("A")+(k("z")-k("a"))+(k("þ")-k("À")),t=a.split("::");console.assert(2==t.length&&t[0].length%2==0);for(var r=Math.pow(e,2)-1,n=t[1].split(";"),f=[],o=0;o<n.length;o++)f.push(parseInt(n[o],10));for(var i=[],c=0;c<t[0].length;c+=2){var s=g(t[0][c]+t[0][c+1],e)/r;i.push(s)}return function(a,e){console.assert(3==e.length);for(var t=e[0],r=e[1],n=e[2],f=new Array(t),o=0;o<t;o++){for(var i=new Array(r),c=0;c<r;c++){for(var s=new Float32Array(n),u=0;u<n;u++)s[u]=a[o*(r+n)+c*n+u];i[c]=s}f[o]=i}return{arr:f,shape:e}}(i,f)}(r.cells),s=!1,u=r.world_params.scale;for(;u>1||!s;){s=!0;var l=Math.min(u,2);A(i*l),t.setWorldSize(d),n=Math.round(n*l),y(a,t.FFT2D,n,r.kernels_params);var h=Math.floor(d/2-f.shape[2]/2*l),p=Math.floor(d/2-f.shape[1]/2*l),m=0;I(a,0),M(a,f,h,p,l,m);for(var b=20,w=0;w<b;w++)a.copyWithin(0*v,8*v,9*v),c();f=E(a),u/=l}o=f}(n,r,e),function(a,e){!function t(){if(setTimeout(t,1e3/e),a.copyWithin(0*v,8*v,9*v),c(),s){var r=Math.floor(u/m-o.shape[2]/2),n=Math.floor(l/m-o.shape[1]/2);M(a,o,r,n,1,0),s=!1}}()}(n,f),function(a,e){for(var t,r=0;r<e.length;r++){var n=e[r];"Colormap"===n.trait_type&&(t=n.value.trim().toLocaleLowerCase().replace(" ","-"))}!function e(){window.requestAnimationFrame(e),function(a,e,t,r){for(var n,f=C[r].length,o=a.img.data,i=0,c=0;c<b;c++)for(var s=Math.floor(c/m),u=0;u<b;u++){var l=Math.floor(u/m),h=e[8*v+s*d+l]*t,g=Math.floor(h*f);g=Math.max(g,0),g=Math.min(g,f-1),n=C[r][g];for(var w=0;w<3;w++)o[i++]=n[w];o[i++]=255}a.ctx.putImageData(a.img,0,0),p.ctx.drawImage(a.can,0,0)}(h,a,1,t)}()}(n,r.attributes),function(a){document.body.addEventListener("keydown",(function(e){32==e.keyCode&&I(a,0)})),document.getElementById("RENDERING_CANVAS").addEventListener("click",z)}(n)})).catch((function(a){console.log(a)}))}(r,n,f);var C={alizarin:N("d6c3c9",["f9c784","e7e7e7","485696","19180a","3f220f","772014","af4319","e71d36"]),"black-white":N("000000",["1f2123","393b41","555860","737780","9497a1","b6b9c1","d9dbe1","ffffff"]),"carmine-blue":N("#006eb8",["#006eb8","#fff200","#cc1236"]),cinnamon:N("#a7d4e4",["#a7d4e4","#71502f","#fdc57e"]),city:N("F93943",["23005c","3a0099","66daff","e6f9ff","004b63","ffca66","fff6e6","ffa600"]),golden:N("#b6bfc1",["#b6bfc1","#253122","#f3a257"]),laurel:N("381d2a",["60b9bf","bffbff","96ff80","eaffe6","71bf60","ff80b0","ffe6ef","ffbfd7"]),msdos:N("#0c0786",["#0c0786","#7500a8","#c03b80","#f79241","#fcfea4"]),"pink-beach":N("f4777f",["93003a","cf3759","ffbcaf","ffffe0","a5d5d8","73a2c6","4771b2","00429d"]),rainbow:N("#000000",["#FF0000","#FF7F00","#FFFF00","#00FF00","#0000FF","#2E2B5F","#8B00FF"]),"river-leaf":N("80ab82",["7dcd85","c5d6d8","99f7ab","2f52e0","bced09","f9cb40","ff715b","4c5b5c"]),salvia:N("#b6bfc1",["#b6bfc1","#051230","#97acc8"]),summer:N("ffe000",["ffbf66","fff4e6","995900","ff9400","6695ff","e6edff","002577","003dc7"]),"white-black":N("#ffffff",["#ffffff","#000000"])};function N(a,e){for(var t=Math.floor(254/(e.length-1)),r=[],n=0;n<e.length-1;n++){var f=W(R(e[n]).slice(0,3),R(e[n+1]).slice(0,3),t);r=r.concat(f)}var o=(""===a?[0,0,0,0]:R(a)).splice(0,3);return r.unshift(o),r}function R(a){return a=a.replace("#",""),rgbaList=[],[0,2,4].forEach((function(e){var t=a.substring(e,e+2);rgbaList.push(parseInt(t,16))})),rgbaList.push(255),rgbaList}function W(a,e,t){for(var r=.43,n=L(a),f=Z(n,r),o=L(e),i=Z(o,r),c=[],s=0;s<t;s++){for(var u=Math.pow(D(f,i,s/t),1/r),l=D(n,o,s/t),h=0,p=0;p<l.length;p++)h+=l[p];if(0!==h){for(var d=[],v=0;v<l.length;v++){var m=l[v];d.push(m*u/h)}l=d}l=B(l),c.push(l)}return c}function D(a,e,t){if(a instanceof Array){for(var r=[],n=0;n<a.length;n++){var f=a[n],o=e[n];r.push(f*(1-t)+o*t)}return r}return a*(1-t)+e*t}function L(a){for(var e=[],t=0;t<a.length;t++){var r=a[t]/255,n=void 0;n=r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4),e.push(n)}return e}function B(a){for(var e,t=[],r=0;r<a.length;r++){var n=a[r];t.push(parseInt(255.9999*((e=n)<=.0031308?e*=12.92:e=1.055*Math.pow(e,1/2.4)-.055,e),10))}return t}function Z(a,e){for(var t=0,r=0;r<a.length;r++)t+=a[r];return Math.pow(t,e)}}},40892:function(a,e,t){"use strict";t.r(e),t.d(e,{default:function(){return h}});var r=t(67294),n=t(19339),f=t(15861),o=t(87757),i=t.n(o),c=t(50009),s=t(20327);"undefined"!=typeof window&&t(72644);var u=c.default.div.withConfig({displayName:"generator__StyledDiv",componentId:"sc-f8scat-0"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"]),l=function(a){var e=a.zoom,t=a.fps,n=a.scale,o=a.lenia_id,c=(0,r.useRef)(null);return(0,r.useEffect)((0,f.Z)(i().mark((function a(){var r,f,c,u,l,h;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,s.h4)();case 2:if(!(r=a.sent)){a.next=9;break}return a.next=6,fetch("/optimized-simd.wasm");case 6:a.t0=a.sent,a.next=12;break;case 9:return a.next=11,fetch("/optimized.wasm");case 11:a.t0=a.sent;case 12:return f=a.t0,a.next=15,f.arrayBuffer();case 15:return c=a.sent,u=r?"engine-simd":"engine",a.next=19,fetch("/metadata/"+o+".json");case 19:return l=a.sent,a.next=22,l.json();case 22:(h=a.sent).config.world_params.scale=n,window.leniaEngine.init(c,u,h,e,t);case 25:case"end":return a.stop()}}),a)})))),r.createElement(u,{ref:c},r.createElement("canvas",{id:"RENDERING_CANVAS"}))},h=function(){var a=(0,n.Wd)("id",n.yz)[0],e=(0,n.Wd)("scale",n.yz)[0],t=(0,n.Wd)("fps",n.yz)[0],f=(0,n.Wd)("zoom",n.yz)[0];return r.createElement(l,{zoom:f||1,fps:t||26,scale:e||2,lenia_id:a||0})}}}]);
//# sourceMappingURL=component---src-pages-generator-js-64dd8cab864fef8f0441.js.map