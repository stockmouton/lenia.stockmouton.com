(self.webpackChunklenia_stockmouton_com=self.webpackChunklenia_stockmouton_com||[]).push([[17],{72644:function(a,t){!function(){var a,r,e,n=!1,f=0,o=0,i=null,c=null,s=1,l=1,u=1,h=1;function p(a,t){console.assert(2==a.length);var r=a[0],e=a[1];return(y(r)>=y("À")?y(r)-y("À")+(y("Z")-y("A"))+(y("z")-y("a")):y(r)>=y("a")?y(r)-y("a")+(y("Z")-y("A")):y(r)-y("A"))*t+(y(e)>=y("À")?y(e)-y("À")+(y("Z")-y("A"))+(y("z")-y("a")):y(e)>=y("a")?y(e)-y("a")+(y("Z")-y("A")):y(e)-y("A"))}function d(a,t){var r;(r=null==a?document.createElement("canvas"):document.getElementById(a)).width=r.height=t;var e=r.getContext("2d"),n=e.createImageData(r.width,r.height),f=r.getBoundingClientRect();return{can:r,ctx:e,img:n,left:f.left,top:f.top}}function v(a,t,r,e,n,f){for(var o=t.arr[0],i=t.shape[1],c=t.shape[2],u=Math.sin(f/180*Math.PI),h=Math.cos(f/180*Math.PI),p=(Math.abs(i*h)+Math.abs(c*u)+1)*n-1,d=(Math.abs(c*h)+Math.abs(i*u)+1)*n-1,v=0;v<p;v++)for(var m=0;m<d;m++){var g=Math.round((-(m-d/2)*u+(v-p/2)*h)/n+i/2),M=Math.round((+(m-d/2)*h+(v-p/2)*u)/n+c/2),w=b(m+r,s),y=b(v+e,s),F=g>=0&&M>=0&&g<i&&M<o[g].length?o[g][M]:0;F>0&&(a[8*l+y*s+w]=F)}}function m(a,t,r,e){var n,f=e[0].k_id,o=e[0].q,i=e[0].r,c=e[0].b,u=function(a){for(var t=Array(a),r=0;r<a;r++)t[r]=new Float32Array(a).fill(0);return t}(s);if("string"==typeof c){n=[];for(var h=c.split(","),p=0;p<h.length;p++){var d=h[p].split("/");2==d.length?n.push(parseInt(d[0],10)/parseInt(d[1],10)):n.push(parseFloat(d[0]))}}else n=e[0].b;for(var v=0,m=s/2,b=0;b<s;b++)for(var M=0;M<s;M++){var w=(b+m)%s-m,y=(M+m)%s-m,F=g(f,o,n,i,Math.sqrt(w*w+y*y)/r);v+=F,u[b][M]=F,w=s-(b+s/2)%s-1,y=(M+s/2)%s}for(var _=0;_<s;_++)for(var x=0;x<s;x++)u[_][x]/=v;for(var A=0;A<s;A++){a.set(u[A],6*l+A*s);var I=new Float32Array(s).fill(0);a.set(I,7*l+A*s)}t(1,6,7)}function g(a,t,r,e,n){var f=r.length,o=f*n,i=r[Math.min(parseInt(Math.floor(o),10),f-1)],c=(n<1)*function(a,t,r){var e;switch(a){case 0:return Math.pow(4*r*(1-r),t);case 1:return e=t-1/(r*(1-r)),Math.exp(t*e);case 2:return r>=t&&r<=1-t?1:0;case 3:return(r>=t&&r<=1-t?1:0)+.5*(r<t);case 4:return e=Math.pow((r-t)/(.3*t),2),Math.exp(-e/2)}}(a,t,o%1)*i;return c}function b(a,t){return(a%t+t)%t}function M(a){r=parseInt(Math.min(Math.max(a,1),4),10),s=w(r),l=Math.pow(s,2),h=Math.round(s*u),i=d(null,h),(c=d("RENDERING_CANVAS",2*h)).ctx.scale(2,2)}function w(a){return 1<<(a<=1?7:a<=2?8:9)}function y(a){return a.charCodeAt(0)}function F(a,t){for(var r=0;r<s;r++)for(var e=0;e<s;e++)a[8*l+r*s+e]=t}function _(a){for(var t={x:s,y:s,xm:0,ym:0},r=0;r<s;r++)for(var e=0;e<s;e++){a[8*l+r*s+e]>0&&(t.x=Math.min(e,t.x),t.y=Math.min(r,t.y),t.xm=Math.max(e,t.xm),t.ym=Math.max(r,t.ym))}for(var n={arr:[[]],shape:[1,t.ym-t.y,t.xm-t.x]},f=t.y;f<t.ym;f++){for(var o=new Float32Array(n.shape[2]),i=t.x,c=0;i<t.xm;i++,c++)o[c]=a[8*l+f*s+i];n.arr[0].push(o)}return n}function x(a){var t=a.target.getBoundingClientRect();f=(a.clientX-t.left)/2,o=(a.clientY-t.top)/2,n=!0}var A={alizarin:I("d6c3c9",["f9c784","e7e7e7","485696","19180a","3f220f","772014","af4319","e71d36"]),"black-white":I("000000",["1f2123","393b41","555860","737780","9497a1","b6b9c1","d9dbe1","ffffff"]),"carmine-blue":I("#006eb8",["#006eb8","#fff200","#cc1236"]),cinnamon:I("#a7d4e4",["#a7d4e4","#71502f","#fdc57e"]),city:I("F93943",["23005c","3a0099","66daff","e6f9ff","004b63","ffca66","fff6e6","ffa600"]),golden:I("#b6bfc1",["#b6bfc1","#253122","#f3a257"]),laurel:I("381d2a",["60b9bf","bffbff","96ff80","eaffe6","71bf60","ff80b0","ffe6ef","ffbfd7"]),msdos:I("#0c0786",["#0c0786","#7500a8","#c03b80","#f79241","#fcfea4"]),"pink-beach":I("f4777f",["93003a","cf3759","ffbcaf","ffffe0","a5d5d8","73a2c6","4771b2","00429d"]),rainbow:I("#000000",["#FF0000","#FF7F00","#FFFF00","#00FF00","#0000FF","#2E2B5F","#8B00FF"]),"river-leaf":I("80ab82",["7dcd85","c5d6d8","99f7ab","2f52e0","bced09","f9cb40","ff715b","4c5b5c"]),salvia:I("#b6bfc1",["#b6bfc1","#051230","#97acc8"]),summer:I("ffe000",["ffbf66","fff4e6","995900","ff9400","6695ff","e6edff","002577","003dc7"]),"white-black":I("#ffffff",["#ffffff","#000000"])};function I(a,t){for(var r=Math.floor(254/(t.length-1)),e=[],n=0;n<t.length-1;n++){var f=k(E(t[n]).slice(0,3),E(t[n+1]).slice(0,3),r);e=e.concat(f)}var o=(""===a?[0,0,0,0]:E(a)).splice(0,3);return e.unshift(o),e}function E(a){return a=a.replace("#",""),rgbaList=[],[0,2,4].forEach((function(t){var r=a.substring(t,t+2);rgbaList.push(parseInt(r,16))})),rgbaList.push(255),rgbaList}function k(a,t,r){for(var e=.43,n=C(a),f=R(n,e),o=C(t),i=R(o,e),c=[],s=0;s<r;s++){for(var l=Math.pow(z(f,i,s/r),1/e),u=z(n,o,s/r),h=0,p=0;p<u.length;p++)h+=u[p];if(0!==h){for(var d=[],v=0;v<u.length;v++){var m=u[v];d.push(m*l/h)}u=d}u=N(u),c.push(u)}return c}function z(a,t,r){if(a instanceof Array){for(var e=[],n=0;n<a.length;n++){var f=a[n],o=t[n];e.push(f*(1-r)+o*r)}return e}return a*(1-r)+t*r}function C(a){for(var t=[],r=0;r<a.length;r++){var e=a[r]/255,n=void 0;n=e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4),t.push(n)}return t}function N(a){for(var t,r=[],e=0;e<a.length;e++){var n=a[e];r.push(parseInt(255.9999*((t=n)<=.0031308?t*=12.92:t=1.055*Math.pow(t,1/2.4)-.055,t),10))}return r}function R(a,t){for(var r=0,e=0;e<a.length;e++)r+=a[e];return Math.pow(r,t)}window.leniaEngine={init:function(d,g,b){void 0===g&&(g=1),void 0===b&&(b=30),g=parseInt(Math.min(Math.max(g-1,0),5),10),u=1<<g,d.config.world_params.scale=parseInt(Math.min(Math.max(d.config.world_params.scale,1),4),10);var I,E,k,z=(I=d.config.world_params.scale,E=w(I),k=(65535+(10*Math.pow(E,2)<<2)&-65536)>>>16,new WebAssembly.Memory({initial:k})),C={env:{memory:z},engine:{GF_ID:d.config.kernels_params[0].gf_id,GF_M:d.config.kernels_params[0].m,GF_S:d.config.kernels_params[0].s,T:d.config.world_params.T},Math:Math};WebAssembly.instantiateStreaming(fetch("/optimized.wasm"),C).then((function(g){var w=g.instance;t=w.exports,e=t.updateFn;var I=new Float32Array(z.buffer);!function(t,n,f){var o=n.config,i=o.world_params.R;r=1;var c=function(a){var t=y("Z")-y("A")+(y("z")-y("a"))+(y("þ")-y("À")),r=a.split("::");console.assert(2==r.length&&r[0].length%2==0);for(var e=Math.pow(t,2)-1,n=r[1].split(";"),f=[],o=0;o<n.length;o++)f.push(parseInt(n[o],10));for(var i=[],c=0;c<r[0].length;c+=2){var s=p(r[0][c]+r[0][c+1],t)/e;i.push(s)}return function(a,t){console.assert(3==t.length);for(var r=t[0],e=t[1],n=t[2],f=new Array(r),o=0;o<r;o++){for(var i=new Array(e),c=0;c<e;c++){for(var s=new Float32Array(n),l=0;l<n;l++)s[l]=a[o*(e+n)+c*n+l];i[c]=s}f[o]=i}return{arr:f,shape:t}}(i,f)}(o.cells),u=!1,h=o.world_params.scale;for(;h>1||!u;){u=!0;var d=Math.min(h,2);M(r*d),f.setWorldSize(s),i=Math.round(i*d),m(t,f.FFT2D,i,o.kernels_params);var g=Math.floor(s/2-c.shape[2]/2*d),b=Math.floor(s/2-c.shape[1]/2*d),w=0;F(t,0),v(t,c,g,b,d,w);for(var x=20,A=0;A<x;A++)t.copyWithin(0*l,8*l,9*l),e();c=_(t),h/=d}a=c}(I,d,t),function(t,i){!function c(){if(setTimeout(c,1e3/i),t.copyWithin(0*l,8*l,9*l),e(),n){var s=Math.floor(f/u-a.shape[2]/2/r),h=Math.floor(o/u-a.shape[1]/2/r);v(t,a,s,h,1,0),n=!1}}()}(I,b),function(a,t){for(var r,e=0;e<t.length;e++){var n=t[e];"Colormap"===n.trait_type&&(r=n.value.trim().toLocaleLowerCase().replace(" ","-"))}!function t(){window.requestAnimationFrame(t),function(a,t,r,e){for(var n,f=A[e].length,o=a.img.data,i=0,p=0;p<h;p++)for(var d=Math.floor(p/u),v=0;v<h;v++){var m=Math.floor(v/u),g=t[8*l+d*s+m]*r,b=Math.floor(g*f);b=Math.max(b,0),b=Math.min(b,f-1),n=A[e][b];for(var M=0;M<3;M++)o[i++]=n[M];o[i++]=255}a.ctx.putImageData(a.img,0,0),c.ctx.drawImage(a.can,0,0)}(i,a,1,r)}()}(I,d.attributes),function(a){document.body.addEventListener("keydown",(function(t){32==t.keyCode&&F(a,0)})),document.getElementById("RENDERING_CANVAS").addEventListener("click",x)}(I)})).catch((function(a){console.log(a)}))}}}()},40892:function(a,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var e=r(67294),n=r(19339),f=r(15861),o=r(87757),i=r.n(o),c=r(50009),s=r(96633);"undefined"!=typeof window&&r(72644);var l=c.default.div.withConfig({displayName:"generator__StyledDiv",componentId:"sc-f8scat-0"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"]),u=function(a){var t=a.zoom,r=a.fps,n=a.scale,o=a.lenia_id,c=(0,e.useRef)(null);return(0,e.useEffect)((0,f.Z)(i().mark((function a(){var e,f;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.get("/metadata/"+o+".json");case 2:e=a.sent,(f=e.data).config.world_params.scale=n,window.leniaEngine.init(f,t,r);case 6:case"end":return a.stop()}}),a)})))),e.createElement(l,{ref:c},e.createElement("canvas",{id:"RENDERING_CANVAS"}))},h=function(){var a=(0,n.Wd)("id",n.yz)[0],t=(0,n.Wd)("scale",n.yz)[0],r=(0,n.Wd)("fps",n.yz)[0],f=(0,n.Wd)("zoom",n.yz)[0];return e.createElement(u,{zoom:f||1,fps:r||26,scale:t||2,lenia_id:a||0})}}}]);
//# sourceMappingURL=component---src-pages-generator-js-0a83df74a445586ae150.js.map